<!DOCTYPE html>
<html lang="en">
<head>

<style>
/* ------------------------------------------------------- */
/*  Fonts                                                  */
/* ------------------------------------------------------- */
@font-face {
    font-family: 'MSSans';
    src: url('/fonts/converted/ms_sans_serif.woff2') format('woff2'),
         url('/fonts/converted/ms_sans_serif.woff') format('woff');
    font-weight: 400;
    font-style: normal;
}
@font-face {
    font-family: 'MSSans';
    src: url('/fonts/converted/ms_sans_serif_bold.woff2') format('woff2'),
         url('/fonts/converted/ms_sans_serif_bold.woff') format('woff');
    font-weight: 700;
    font-style: normal;
}

/* ------------------------------------------------------- */
/*  Base Layout — light by default                         */
/* ------------------------------------------------------- */
body {
    margin: 0;
    padding: 0;
    font-family: 'MSSans', sans-serif;
    background: #ffffff;
    color: #202122;
}
@media (prefers-color-scheme: light) {
    body { background:#ffffff; color:#f78c20; }
}
@media (prefers-color-scheme: dark) {
    body { background:#2e2e2e; color:#f0b6e7; }
}

/* ------------------------------------------------------- */
/*  Header                                                 */
/* ------------------------------------------------------- */
header { padding:24px; text-align:center; font-size:28px;
         font-weight:600; letter-spacing:.5px; }

/* ------------------------------------------------------- */
/*  Windows‑98 Toolbar                                     */
/* ------------------------------------------------------- */
.win98-toolbar{
    background:#c0c0c0;
    border:1px solid #000;
    padding:2px 4px;
    display:flex; align-items:center;
    font-size:13px;
}
.win98-btn{
    background:#e0e0e0; border:1px solid #000;
    padding:2px 6px; margin-right:4px;
    color:#000; text-decoration:none;
    display:flex; align-items:center;
}
.win98-btn:hover{ background:#f0f0f0; }
.win98-btn:active{
    background:#a0a0a0;
    border-top-color:#808080; border-left-color:#808080;
    border-bottom-color:#d0d0d0; border-right-color:#d0d0d0;
}
.win98-start{
    background:#c0c0c0; border:1px solid #000;
}
.win98-start:hover{ background:#e0e0e0; }
.win98-home::before{
    content:"\25A0"; margin-right:4px; font-size:12px;
}
.win98-spacer{ flex-grow:1; }

/* ------------------------------------------------------- */
/*  Gallery                                                */
/* ------------------------------------------------------- */
.gallery{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
    gap:12px; padding:12px;
}
.gallery img{
    width:100%; height:100%;
    object-fit:cover; border-radius:10px;
    cursor:pointer; transition:transform .15s ease;
}
.gallery img:hover{ transform:scale(1.04); }

/* ------------------------------------------------------- */
/*  Lightbox                                               */
/* ------------------------------------------------------- */
.lightbox{
    position:fixed; inset:0;
    background:rgba(0,0,0,.92);
    display:none; align-items:center;
    justify-content:center; z-index:999;
}
.lightbox img{ max-width:92vw; max-height:92vh; border-radius:14px; }

/* Navigation arrows */
.nav-btn{
    position:absolute; top:50%; transform:translateY(-50%);
    font-family:'MSSans',sans-serif; font-size:48px;
    padding:10px 18px; cursor:pointer; user-select:none;
    opacity:.8; color:inherit;
}
.nav-btn:hover{ opacity:1; }
#prevBtn{ left:20px; } #nextBtn{ right:20px; }

/* ------------------------------------------------------- */
/*  Footer                                                 */
/* ------------------------------------------------------- */
footer{
    text-align:center; padding:20px;
    font-size:13px; opacity:.7;
}
</style>

<!-- Metadata + Icons -->
<link rel="icon" type="image/png" sizes="64x64" href="favicon.png">
<link rel="shortcut icon" href="favicon.png" type="image/png">
<link rel="apple-touch-icon" sizes="64x64" href="favicon.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
<title>canon²</title>
<meta name="description" content="an awesome gallery of awesome stuff">
</head>

<body>
<header>canoncanon.cc – test page</header>

<!-- ===== WINDOWS 98 TOOLBAR START ===== -->
<div class="win98-toolbar">
    <a href="/" title="Home" class="win98-btn win98-home"><span>Home</span></a>
    <a href="/about" title="About" class="win98-btn"><span>About</span></a>
    <a href="/license" title="Licensing" class="win98-btn"><span>Licensing</span></a>
    <a href="https://instagram.com/yourprofile" target="_blank"
       title="Instagram" class="win98-btn"><span>Instagram</span></a>

    <div class="win98-spacer"></div>
    <!-- Optional Start button -->
    <a href="#" class="win98-btn win98-start"><span>Start</span></a>
</div>
<!-- ===== WINDOWS 98 TOOLBAR END ===== -->

<div class="gallery" id="gallery"></div>

<div class="lightbox" id="lightbox">
    <img id="lightboxImg">
    <div id="prevBtn" class="nav-btn">‹</div>
    <div id="nextBtn" class="nav-btn">›</div>
</div>

<footer>
    website under construction<br>
    © 2025 — Photos licensed under CC BY‑NC‑SA 4.0
</footer>

<script>
let photoList = [];
let currentIndex = 0;

// Load photos.json
fetch("photos/photos.json")
  .then(r => r.json())
  .then(list => {
      photoList = list;
      const gallery = document.getElementById("gallery");
      list.forEach((file, idx) => {
          const img = document.createElement("img");
          img.src = "photos/thumbs/" + file;
          img.loading = "lazy";
          img.onclick = () => openLightbox(idx);
          gallery.appendChild(img);
      });
  });

function openLightbox(index) {
    currentIndex = index;
    document.getElementById("lightboxImg").src = "photos/full/" + photoList[index];
    document.getElementById("lightbox").style.display = "flex";
}

// Close when clicking background or arrow buttons
document.getElementById("lightbox").onclick = (e) => {
    if (e.target.id === "lightbox" || e.target.classList.contains("nav-btn")) {
        document.getElementById("lightbox").style.display = "none";
    }
};

// Next / Prev buttons
document.getElementById("nextBtn").onclick = (e) => {
    e.stopPropagation();
    if (currentIndex < photoList.length - 1) openLightbox(currentIndex + 1);
};
document.getElementById("prevBtn").onclick = (e) => {
    e.stopPropagation();
    if (currentIndex > 0) openLightbox(currentIndex - 1);
};

// Arrow keys
document.addEventListener("keydown", (event) => {
    const lightbox = document.getElementById("lightbox");
    if (lightbox.style.display !== "flex") return;
    if (event.key === "ArrowRight" && currentIndex < photoList.length - 1)
        openLightbox(currentIndex + 1);
    if (event.key === "ArrowLeft" && currentIndex > 0)
        openLightbox(currentIndex - 1);
    if (event.key === "Escape") lightbox.style.display = "none";
});
</script>
</body>
</html>
